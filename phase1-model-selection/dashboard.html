
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Socratic AI Benchmarks — Dashboard</title>
  <style>
    :root {{ --bg:#0b1020; --panel:#141a32; --text:#e6e9f5; --muted:#a7b0c5; --accent:#6dd3fb; --ok:#43d17a; --warn:#ffd166; --bad:#ef476f; }}
    * {{ box-sizing: border-box; }}
    body {{ margin:0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji','Segoe UI Emoji', 'Segoe UI Symbol'; background:var(--bg); color:var(--text); }}
    header {{ padding: 20px 24px; border-bottom: 1px solid rgba(255,255,255,0.06); display:flex; align-items:center; justify-content:space-between; }}
    h1 {{ margin:0; font-size: 20px; }}
    .meta {{ color:var(--muted); font-size: 13px; }}
    .container {{ padding: 20px; max-width: 1200px; margin: 0 auto; }}
    .grid {{ display:grid; grid-template-columns: repeat(12, 1fr); gap:16px; }}
    .card {{ background: var(--panel); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 16px; }}
    .span-12 {{ grid-column: span 12; }}
    .span-6 {{ grid-column: span 6; }}
    .span-4 {{ grid-column: span 4; }}
    table {{ width:100%; border-collapse: collapse; }}
    th, td {{ padding: 10px 8px; text-align:left; border-bottom:1px solid rgba(255,255,255,0.06); font-size: 14px; }}
    th {{ color: var(--muted); font-weight: 600; font-size:12px; text-transform: uppercase; letter-spacing: 0.04em; }}
    .badge {{ display:inline-block; padding: 2px 8px; border-radius: 999px; font-size: 12px; color:#0a0f1f; }}
    .ok {{ background: var(--ok); }} .warn {{ background: var(--warn); }} .bad {{ background: var(--bad); }}
    .pill {{ font-size: 12px; color: var(--muted); padding: 2px 8px; border: 1px solid rgba(255,255,255,0.12); border-radius: 999px; }}
    .run-header {{ display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap; }}
    .run-meta {{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }}
    .footer {{ color: var(--muted); font-size: 12px; margin-top: 24px; }}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script>window.__RUNS__ = [{"title": "Run: comparison_results_20251025_074435.json", "meta": {"timestamp": "2025-10-25T07:44:35.815429", "aws_profile": "mvp", "aws_region": "us-east-1", "total_scenarios": 10, "models_tested": 2}, "rows": [{"model_id": "anthropic.claude-3-5-sonnet-20241022-v2:0", "model_name": "Claude 3.5 Sonnet v2", "avg_quality": 0.0, "avg_latency_ms": 0.0, "success_rate": 0.0, "successful": 0, "total_scenarios": 10, "criteria_scores": {}}, {"model_id": "anthropic.claude-3-opus-20240229-v1:0", "model_name": "Claude 3 Opus", "avg_quality": 0.0, "avg_latency_ms": 0.0, "success_rate": 0.0, "successful": 0, "total_scenarios": 10, "criteria_scores": {}}], "labels": ["Claude 3.5 Sonnet v2", "Claude 3 Opus"], "qualities": [0.0, 0.0], "latencies": [0.0, 0.0], "success": [0.0, 0.0], "crit_keys": ["open_ended", "probing", "builds_on_previous", "age_appropriate", "content_relevant"], "crit_series": {"open_ended": [0.0, 0.0], "probing": [0.0, 0.0], "builds_on_previous": [0.0, 0.0], "age_appropriate": [0.0, 0.0], "content_relevant": [0.0, 0.0]}}];</script>
  <script>
    function fmtLatency(ms) {{ return Math.round(ms) + ' ms'; }}
    function qualityBadge(q) {{
      if (q >= 0.85) return '<span class="badge ok">' + q.toFixed(3) + '</span>';
      if (q >= 0.7) return '<span class="badge warn">' + q.toFixed(3) + '</span>';
      return '<span class="badge bad">' + q.toFixed(3) + '</span>';
    }}
    function successPill(s) {{
      const cls = s >= 99 ? 'ok' : (s >= 90 ? 'warn' : 'bad');
      return '<span class="pill">Success: <span class="' + cls + ' badge">' + s.toFixed(1) + '%</span></span>';
    }}
    function renderTables() {{
      const root = document.getElementById('runs');
      const runs = window.__RUNS__;
      runs.forEach((run, idx) => {{
        const top = run.rows[0] || {{}};
        const meta = run.meta || {{}};
        const section = document.createElement('section');
        section.className = 'grid';
        section.innerHTML = `
          <div class="span-12 card">
            <div class="run-header">
              <div>
                <h2 style="margin:0 0 4px 0; font-size:16px;">${run.title}</h2>
                <div class="meta">Timestamp: ${meta.timestamp || '—'} · Profile: ${meta.aws_profile || '—'} · Region: ${meta.aws_region || '—'} · Scenarios: ${meta.total_scenarios || '—'} · Models: ${meta.models_tested || '—'}</div>
              </div>
              <div class="run-meta">
                <span class="pill">Top Model: <b>${(top.model_name || '—')}</b></span>
                <span class="pill">Top Quality: ${(top.avg_quality ?? 0).toFixed(3)}</span>
                <span class="pill">Top Latency: ${fmtLatency(top.avg_latency_ms || 0)}</span>
              </div>
            </div>
          </div>

          <div class="span-6 card">
            <h3 style="margin:0 0 8px 0; font-size:14px; color:var(--muted);">Ranking</h3>
            <table>
              <thead><tr>
                <th>#</th><th>Model</th><th>Quality</th><th>Latency</th><th>Success</th>
              </tr></thead>
              <tbody>
                ${run.rows.map((r,i) => `
                  <tr>
                    <td>${i+1}</td>
                    <td>${r.model_name}</td>
                    <td>${qualityBadge(r.avg_quality)}</td>
                    <td>${fmtLatency(r.avg_latency_ms)}</td>
                    <td>${successPill(r.success_rate)}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>

          <div class="span-6 card">
            <h3 style="margin:0 0 8px 0; font-size:14px; color:var(--muted);">Quality by Model</h3>
            <canvas id="qbar_${idx}"></canvas>
          </div>

          <div class="span-6 card">
            <h3 style="margin:0 0 8px 0; font-size:14px; color:var(--muted);">Quality vs Latency</h3>
            <canvas id="scatter_${idx}"></canvas>
          </div>

          <div class="span-6 card">
            <h3 style="margin:0 0 8px 0; font-size:14px; color:var(--muted);">Criteria Breakdown</h3>
            <canvas id="crit_${idx}"></canvas>
          </div>
        `;
        root.appendChild(section);

        // Bar: Quality by Model
        new Chart(document.getElementById('qbar_'+idx).getContext('2d'), {{
          type: 'bar',
          data: {{
            labels: run.labels,
            datasets: [{{
              label: 'Avg Quality',
              data: run.qualities,
              backgroundColor: 'rgba(109, 211, 251, 0.6)',
              borderColor: 'rgba(109, 211, 251, 1)',
              borderWidth: 1,
            }}]
          }},
          options: {{
            scales: {{ y: {{ beginAtZero: true, max: 1 }} }}
          }}
        }});

        // Scatter: Quality vs Latency
        new Chart(document.getElementById('scatter_'+idx).getContext('2d'), {{
          type: 'scatter',
          data: {{
            datasets: [{{
              label: 'Models',
              data: run.labels.map((label, i) => ({{ x: run.latencies[i], y: run.qualities[i], label }})),
              backgroundColor: 'rgba(67, 209, 122, 0.7)'
            }}]
          }},
          options: {{
            parsing: false,
            plugins: {{
              tooltip: {{
                callbacks: {{
                  label: (ctx) => `${{ctx.raw.label}} — Q:${{ctx.raw.y.toFixed(3)}} · L:${{Math.round(ctx.raw.x)}}ms`
                }}
              }}
            }},
            scales: {{ x: {{ title: {{ display:true, text:'Latency (ms)'}} }}, y: {{ beginAtZero:true, max:1, title: {{ display:true, text:'Quality'}} }} }}
          }}
        }});

        // Stacked bars: Criteria Breakdown
        const critKeys = run.crit_keys;
        const colors = ['#7ad7f0','#6dd3fb','#a9e5bb','#ffe19c','#f7a1be'];
        new Chart(document.getElementById('crit_'+idx).getContext('2d'), {{
          type: 'bar',
          data: {{
            labels: run.labels,
            datasets: critKeys.map((k, i) => ({{
              label: k,
              data: run.crit_series[k],
              backgroundColor: colors[i % colors.length]
            }}))
          }},
          options: {{
            scales: {{
              x: {{ stacked: true }},
              y: {{ stacked: true, beginAtZero: true, max: 1 }}
            }}
          }}
        }});
      }});
    }
    window.addEventListener('DOMContentLoaded', renderTables);
  </script>
</head>
<body>
  <header>
    <h1>Socratic AI Benchmarks — Phase 1 Dashboard</h1>
    <div class="meta">Generated: 2025-10-25T23:03:13</div>
  </header>
  <div class="container">
    <div id="runs" class="grid"></div>
    <div class="footer">Static report generated from comparison_results_*.json. Adjust weights and deeper drill-down can be added in the interactive app.</div>
  </div>
</body>
</html>
